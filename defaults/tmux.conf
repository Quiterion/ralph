# Wiggum tmux configuration - sourced automatically on session creation
# Override by creating .wiggum/tmux.conf in your project

# ══════════════════════════════════════════════════════════════
# STATUS BAR
# ══════════════════════════════════════════════════════════════
set -g status on
set -g status-interval 5
set -g status-position bottom

# Left: session name
set -g status-left "#[fg=cyan,bold] #S #[fg=default,bg=default] "
set -g status-left-length 20

# Right: agent count + ready tickets (via wiggum status)
set -g status-right "#(wiggum status --format=tmux 2>/dev/null || echo '') #[fg=white]%H:%M "
set -g status-right-length 60

# Window/pane styling
set -g status-style "bg=default,fg=white"
set -g window-status-style "fg=colour245"
set -g window-status-current-style "fg=cyan,bold"
set -g window-status-format " #W "
set -g window-status-current-format " #W "

# ══════════════════════════════════════════════════════════════
# PANE BORDERS & TITLES
# ══════════════════════════════════════════════════════════════
set -g pane-border-status top
set -g pane-border-format " #{pane_index}: #{pane_title} "
set -g pane-border-style "fg=colour240"
set -g pane-active-border-style "fg=cyan"

# ══════════════════════════════════════════════════════════════
# KEYBINDINGS (Prefix = Ctrl-b by default)
# ══════════════════════════════════════════════════════════════
# Navigation (no prefix required)
bind -n M-h select-pane -L          # Alt+h = left pane
bind -n M-j select-pane -D          # Alt+j = down pane
bind -n M-k select-pane -U          # Alt+k = up pane
bind -n M-l select-pane -R          # Alt+l = right pane
bind -n M-0 select-pane -t 0        # Alt+0 = supervisor (pane 0)

# Wiggum commands (Prefix + key)
bind s run-shell "wiggum status"
bind S run-shell "wiggum status --verbose"

# Quick layouts (Prefix + Alt + key)
bind M-t select-layout tiled
bind M-v select-layout even-vertical
bind M-h select-layout even-horizontal

# ══════════════════════════════════════════════════════════════
# MOUSE & MISC
# ══════════════════════════════════════════════════════════════
set -g mouse on
set -g history-limit 50000
setw -g mode-keys vi
